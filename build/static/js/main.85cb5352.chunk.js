(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(25),r=n.n(c),s=n(21),o=n(47),i=n(50),d=n(11),l={products:[],comments:[],loading:!1,error:!1},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS-LOADED":return Object(d.a)(Object(d.a)({},e),{},{products:t.payload,loading:!1,error:!1});case"PRODUCTS-REQUESTED":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:!1});case"PRODUCTS-ERROR":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:!0});case"COMMENTS-LOADED":return Object(d.a)(Object(d.a)({},e),{},{comments:t.payload});default:return Object(d.a)({},e)}},j=Object(i.a)((function(e){return function(t){return function(n){console.group("action",n.type),console.log("prev state",e.getState()),console.log("action",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}})),b=Object(i.c)(u,j),m=n(82),h=n(17),O=function(e){return{type:"PRODUCTS-LOADED",payload:e}},p=function(){return{type:"PRODUCTS-REQUESTED"}},x=function(){return{type:"PRODUCTS-ERROR"}},f=function(e){return{type:"COMMENTS-LOADED",payload:e}},g=n(19),v=n(28),C=n(75),y=n.n(C),N=n(83),w=n(78),S=n(40),R=function(e,t){var n=[];t(),S.a.firestore().collection("products").get().then((function(t){t.forEach((function(e){var t=Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id});n=[].concat(Object(w.a)(n),[t])})),e(n)}))},E=function(){var e=Object(N.a)(y.a.mark((function e(t,n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.firestore().collection("products").doc(t).delete().then((function(){R(n,a)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),k=function(e){var t=[];S.a.firestore().collection("comment").get().then((function(n){n.forEach((function(e){var n=Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id});t=[].concat(Object(w.a)(t),[n])})),e(t)}))},D=n(114),U=n(115),q=n(107),z=n(84),L=n(108),T=n(4),B=Object(s.b)((function(e){return{products:e.products}}),{productsError:x,productsRequested:p,productsLoaded:O})((function(e){var t=e.show,n=e.handleClose,c=(e.productsError,e.products,e.productsLoaded),r=e.productsRequested,s=Object(a.useState)(!1),o=Object(g.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)({name:"",imageUrl:"",count:"",weight:"",size:{height:"",width:""}}),j=Object(g.a)(u,2),b=j[0],m=j[1],h=b.name,O=b.imageUrl,p=b.count,x=b.weight,f=b.size,C=function(e){"width"===e.target.name||"height"===e.target.name?m(Object(d.a)(Object(d.a)({},b),{},{size:Object(d.a)(Object(d.a)({},b.size),{},Object(v.a)({},e.target.name,e.target.value))})):m(Object(d.a)(Object(d.a)({},b),{},Object(v.a)({},e.target.name,e.target.value)))};return Object(T.jsxs)(D.a,{show:t,onHide:n,children:[Object(T.jsx)(D.a.Header,{closeButton:!0,children:Object(T.jsx)(D.a.Title,{children:"Add new product"})}),Object(T.jsx)(D.a.Body,{children:Object(T.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),l(!0),function(e,t,n,a,c){S.a.firestore().collection("products").add(n).then((function(n){a(!1),c(),R(e,t)}))}(c,r,b,l,n),m({name:"",imageUrl:"",count:"",weight:"",size:{height:"",width:""}})},children:[Object(T.jsx)(U.a.Control,{className:"mb-2",placeholder:"Img URL",onChange:C,name:"imageUrl",type:"text",value:O}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Name",onChange:C,name:"name",type:"text",value:h}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Count",onChange:C,name:"count",type:"number",value:p}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Weight",onChange:C,name:"weight",type:"text",value:x}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Height",onChange:C,name:"height",type:"number",value:f.height}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Width",onChange:C,name:"width",type:"number",value:f.width}),Object(T.jsxs)(q.a,{"aria-label":"Basic example",children:[Object(T.jsx)(z.a,{onClick:n,type:"button",className:"mt-1",variant:"secondary",children:"No thanks!"}),Object(T.jsxs)(z.a,{disabled:i,type:"submit",className:"mt-1",variant:"dark",children:["Add  ",i?Object(T.jsx)(L.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):""]})]})]})})]})})),A=n(116),I=function(){var e=Object(a.useState)(!1),t=Object(g.a)(e,2),n=t[0],c=t[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(B,{show:n,handleClose:function(){return c(!1)}}),Object(T.jsxs)(A.a,{className:"d-flex justify-content-between",bg:"dark",variant:"dark",children:[Object(T.jsx)(A.a.Brand,{children:"Inforce"}),Object(T.jsx)(z.a,{onClick:function(){return c(!0)},variant:"outline-light",children:"Add Product"})," "]})]})},P=n(110),H=function(){return Object(T.jsx)("h1",{children:"Error..."})},M=n(117),W=function(e){var t=e.name,n=e.count,a=e.imageUrl,c=e.weight,r=e.id,s=e.onRemoveProduct,o=Object(h.f)();return Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)(M.a,{className:"mr-3 ml-3 mt-3",style:{width:"18rem"},children:[Object(T.jsx)(M.a.Img,{onClick:function(){return o.push("/products/".concat(r))},style:{minHeight:"250px",cursor:"pointer"},variant:"top",src:a}),Object(T.jsxs)(M.a.Body,{className:"body-card",children:[Object(T.jsx)(M.a.Title,{children:t}),Object(T.jsx)(M.a.Subtitle,{className:"mb-2 text-muted",children:"\u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456 ".concat(n," \u0448\u0442")}),Object(T.jsx)(M.a.Text,{className:"mb-5",children:"\u0412\u0430\u0433\u0430 ".concat(c)}),Object(T.jsx)(z.a,{onClick:function(){return s(r)},className:"w-100 button-card",variant:"secondary",children:"Delete"})]})]})})},J=n(109),F=n(85),Q=function(e){var t=e.sortBy,n=e.filter;return Object(T.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"200px",justifyContent:"space-around"},children:[Object(T.jsxs)(J.a,{id:"dropdown-basic-button",variant:"secondary",title:"Sort by",children:[Object(T.jsx)(F.a.Item,{onClick:function(){return t("Name")},href:"#/action-1",children:"Name"}),Object(T.jsx)(F.a.Item,{onClick:function(){return t("Count")},href:"#/action-2",children:"Count"})]}),Object(T.jsx)("div",{children:n})]})},K=Object(s.b)((function(e){return{products:e.products,loading:e.loading,error:e.error}}),{productsLoaded:O,productsRequested:p})((function(e){var t=e.products,n=e.loading,c=e.error,r=e.productsLoaded,s=e.productsRequested,o=Object(a.useState)(!1),i=Object(g.a)(o,2),d=i[0],l=i[1],u=Object(a.useState)(""),j=Object(g.a)(u,2),b=j[0],m=j[1],h=Object(a.useState)("Name"),O=Object(g.a)(h,2),p=O[0],x=O[1],f=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));"Count"===p&&(f=t.sort((function(e,t){return+e.count-+t.count})));var v=function(e){m(e),l(!0),window.scroll(0,0)},C=f.map((function(e){return Object(T.jsx)(W,{name:e.name,imageUrl:e.imageUrl,count:e.count,weight:e.weight,id:e.id,onRemoveProduct:v},e.id)})),y=c?Object(T.jsx)(H,{}):C;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Q,{sortBy:function(e){x(e)},filter:p}),Object(T.jsxs)(P.a,{show:d,variant:"danger",children:[Object(T.jsxs)(P.a.Heading,{children:["Remove permanently",t.length&&b?" ".concat(t.find((function(e){return e.id===b})).name):null]}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(T.jsx)(z.a,{onClick:function(){return l(!1)},className:"mr-2",variant:"outline-danger",children:"Cancel"}),Object(T.jsx)(z.a,{onClick:function(){E(b,r,s),l(!1),m("")},variant:"outline-danger",children:"Remove"})]})]}),Object(T.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:n?Object(T.jsx)(L.a,{className:"spin",animation:"border",variant:"secondary"}):y})]})})),Y=n(112),Z=n(113),G=n(111),V=Object(s.b)((function(e){return{products:e.products}}),{productsError:x,productsRequested:p,productsLoaded:O})((function(e){var t=e.show,n=e.handleClose,c=(e.productsError,e.products,e.productsLoaded),r=e.productsRequested,s=e.initialProduct,o=e.id,i=Object(a.useState)(!1),l=Object(g.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(s),m=Object(g.a)(b,2),h=m[0],O=m[1],p=h.name,x=h.imageUrl,f=h.count,C=h.weight,y=h.size,N=function(e){"width"===e.target.name||"height"===e.target.name?O(Object(d.a)(Object(d.a)({},h),{},{size:Object(d.a)(Object(d.a)({},h.size),{},Object(v.a)({},e.target.name,e.target.value))})):O(Object(d.a)(Object(d.a)({},h),{},Object(v.a)({},e.target.name,e.target.value)))};return Object(T.jsxs)(D.a,{show:t,onHide:n,children:[Object(T.jsx)(D.a.Header,{closeButton:!0,children:Object(T.jsx)(D.a.Title,{children:"Edit product"})}),Object(T.jsx)(D.a.Body,{children:Object(T.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),j(!0),function(e,t,n,a,c,r){S.a.firestore().collection("products").doc(r).set(n).then((function(){a(!1),c(),R(e,t)}))}(c,r,h,j,n,o)},children:[Object(T.jsx)(U.a.Control,{className:"mb-2",placeholder:"Img URL",onChange:N,name:"imageUrl",type:"text",value:x}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Name",onChange:N,name:"name",type:"text",value:p}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Count",onChange:N,name:"count",type:"number",value:f}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Weight",onChange:N,name:"weight",type:"text",value:C}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Height",onChange:N,name:"height",type:"number",value:y.height}),Object(T.jsx)(U.a.Control,{required:!0,className:"mb-2",placeholder:"Width",onChange:N,name:"width",type:"number",value:y.width}),Object(T.jsxs)(q.a,{"aria-label":"Basic example",children:[Object(T.jsx)(z.a,{onClick:n,type:"button",className:"mt-1",variant:"secondary",children:"No thanks!"}),Object(T.jsxs)(z.a,{disabled:u,type:"submit",className:"mt-1",variant:"dark",children:["Add  ",u?Object(T.jsx)(L.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):""]})]})]})})]})})),X=Object(s.b)((function(e){return{products:e.products}}),{commentsLoaded:f})((function(e){var t=e.show,n=e.handleClose,c=e.commentsLoaded,r=e.id,s=Object(a.useState)(!1),o=Object(g.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)({date:Date.now(),description:"",productId:r}),j=Object(g.a)(u,2),b=j[0],m=j[1],h=b.description;return Object(T.jsxs)(D.a,{show:t,onHide:n,children:[Object(T.jsx)(D.a.Header,{closeButton:!0,children:Object(T.jsx)(D.a.Title,{children:"Add new comment"})}),Object(T.jsx)(D.a.Body,{children:Object(T.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),l(!0),function(e,t,n,a){S.a.firestore().collection("comment").add(t).then((function(t){n(!1),a(),k(e)}))}(c,b,l,n),m((function(e){return Object(d.a)(Object(d.a)({},e),{},{description:""})}))},children:[Object(T.jsx)(U.a.Control,{className:"mb-2",placeholder:"Some text",onChange:function(e){m(Object(d.a)(Object(d.a)({},b),{},Object(v.a)({},e.target.name,e.target.value)))},name:"description",type:"text",as:"textarea",value:h}),Object(T.jsxs)(q.a,{"aria-label":"Basic example",children:[Object(T.jsx)(z.a,{onClick:n,type:"button",className:"mt-1",variant:"secondary",children:"No thanks!"}),Object(T.jsxs)(z.a,{disabled:i,type:"submit",className:"mt-1",variant:"dark",children:["Add  ",i?Object(T.jsx)(L.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):""]})]})]})})]})})),$=Object(s.b)((function(e){return{products:e.products,comments:e.comments}}),{commentsLoaded:f})((function(e){var t=e.products,n=e.comments,c=e.commentsLoaded,r=Object(a.useState)(!1),s=Object(g.a)(r,2),o=s[0],i=s[1],d=Object(a.useState)(!1),l=Object(g.a)(d,2),u=l[0],j=l[1];Object(a.useEffect)((function(){k(c)}),[c]);var b=Object(h.g)().id,m=t.find((function(e){return e.id===b})),O=n.filter((function(e){return e.productId===b}));return t.length?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(X,{}),Object(T.jsx)(V,{show:o,initialProduct:m,id:b,handleClose:function(){return i(!1)}}),Object(T.jsx)(X,{show:u,id:b,handleClose:function(){return j(!1)}}),Object(T.jsx)("h2",{className:"text-center",children:m.name}),Object(T.jsxs)("div",{className:"d-flex",children:[Object(T.jsx)(G.a,{className:"w-50",src:m.imageUrl,fluid:!0}),Object(T.jsxs)("div",{className:"w-50",children:[Object(T.jsxs)("p",{style:{fontSize:"26px"},className:"ml-5",children:["On the balance ",m.count]}),Object(T.jsxs)("p",{style:{fontSize:"26px"},className:"ml-5",children:["Weight ",m.weight]}),Object(T.jsxs)("p",{style:{fontSize:"26px"},className:"ml-5",children:["Width ",m.size.width]}),Object(T.jsxs)("p",{style:{fontSize:"26px"},className:"ml-5",children:["Height ",m.size.height]}),Object(T.jsx)(z.a,{onClick:function(){return i(!0)},className:"ml-2",children:"Edit Product"})]})]}),Object(T.jsx)("p",{className:"text-center",children:"Comments:"}),O.length?O.map((function(e,t){return Object(T.jsx)("p",{children:e.description},t)})):"",Object(T.jsx)(z.a,{onClick:function(){return j(!0)},className:"ml-2",children:"Add Comment"})]}):""}));var _=Object(s.b)(null,{productsLoaded:O,productsRequested:p})((function(e){var t=e.productsLoaded,n=e.productsRequested;return Object(a.useEffect)((function(){R(t,n)}),[t,n]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(I,{}),Object(T.jsx)(Y.a,{className:"jambo",children:Object(T.jsx)(Z.a,{children:Object(T.jsxs)(h.c,{children:[Object(T.jsx)(h.a,{exact:!0,path:"/",children:Object(T.jsx)(K,{})}),Object(T.jsx)(h.a,{path:"/products/:id",children:Object(T.jsx)($,{})})]})})})]})}));n(100),n(101);m.a.initializeApp({apiKey:"AIzaSyCtMcuJy88Zlq2bJYu-AT7LCMqwERJ-U4s",authDomain:"inforce-ac4e6.firebaseapp.com",projectId:"inforce-ac4e6",storageBucket:"inforce-ac4e6.appspot.com",messagingSenderId:"1011254190106",appId:"1:1011254190106:web:a7b2972bc8dd2c01bc71a3"}),r.a.render(Object(T.jsx)(s.a,{store:b,children:Object(T.jsx)(o.a,{children:Object(T.jsx)(_,{})})}),document.getElementById("root"))}},[[102,1,2]]]);
//# sourceMappingURL=main.85cb5352.chunk.js.map